<h2 mat-dialog-title>{{ 'employess.new-employee' | translate }}</h2>
<mat-horizontal-stepper linear>
    <mat-step [stepControl]="workerAccountDataForm">
        <mat-dialog-content class="mat-typography mb-4">
            <form [formGroup]="workerAccountDataForm">
                <div class="col">
                    <div class="row">
                        <mat-form-field class="m-2 w-100">
                            <mat-label>
                                {{ 'core.login-page.e-mail' | translate }}
                            </mat-label>
                            <input autocomplete="off" matInput type="email" formControlName="email">
                            <mat-error *ngIf="workerAccountDataForm.controls['email'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                            <mat-error *ngIf="!workerAccountDataForm.controls['email'].hasError('required') &&
                            workerAccountDataForm.controls['email'].hasError('alreadyTaken')">
                                <strong>{{ 'shared.email_taken' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="row">
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ 'core.login-page.password' | translate }}
                            </mat-label>
                            <input autocomplete="off" matInput type="password" formControlName="password">
                            <mat-error *ngIf="workerAccountDataForm.controls['password'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                            <mat-error *ngIf="!workerAccountDataForm.controls['password'].hasError('required') &&
                                        workerAccountDataForm.controls['password'].hasError('diffrentPasswords')">
                                <strong>{{ 'shared.same_passwords' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ 'core.login-page.repeat-password' | translate }}
                            </mat-label>
                            <input autocomplete="off" matInput type="password" formControlName="secondPassword">
                            <mat-error *ngIf="workerAccountDataForm.controls['secondPassword'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                            <mat-error *ngIf="!workerAccountDataForm.controls['secondPassword'].hasError('required') &&
                                        workerAccountDataForm.controls['secondPassword'].hasError('diffrentPasswords')">
                                <strong>{{ 'shared.same_passwords' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
            </form>
        </mat-dialog-content>
        <mat-dialog-actions align="end">
            <button mat-button mat-dialog-close>
                {{ "shared.cancel" | translate }}
            </button>
            <button matStepperNext [disabled]="!workerAccountDataForm.valid" mat-raised-button color="primary">
                {{ "shared.next" | translate }}
            </button>
        </mat-dialog-actions>
    </mat-step>
    <mat-step [stepControl]="workerInformationsForm">
        <mat-dialog-content class="mat-typography mb-4">
            <form [formGroup]="workerInformationsForm">
                <div class="col">
                    <div class="row">
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ 'account.name' | translate }}
                            </mat-label>
                            <input matInput type="text" formControlName="name">
                            <mat-error *ngIf="workerInformationsForm.controls['name'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ 'account.surname' | translate }}
                            </mat-label>
                            <input matInput type="text" formControlName="surname">
                            <mat-error *ngIf="workerInformationsForm.controls['surname'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="row">
                        <mat-form-field class="m-2 form-date-field">
                            <mat-label>
                                {{ 'account.birthday' | translate }}
                            </mat-label>
                            <input matInput [matDatepicker]="picker" formControlName="birthday">
                            <mat-datepicker-toggle  matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                            <mat-error *ngIf="workerInformationsForm.controls['birthday'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ 'account.phone' | translate }}
                            </mat-label>
                            <input matInput type="number" formControlName="phone">
                            <mat-error *ngIf="workerInformationsForm.controls['phone'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="row">
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ 'account.pesel' | translate }}
                            </mat-label>
                            <input matInput type="text" formControlName="pesel">
                            <mat-error *ngIf="workerInformationsForm.controls['pesel'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>     
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ 'account.street' | translate }}
                            </mat-label>
                            <input matInput type="text" formControlName="street">
                            <mat-error *ngIf="workerInformationsForm.controls['street'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="row">
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ 'account.town' | translate }}
                            </mat-label>
                            <input matInput type="text" formControlName="town">
                            <mat-error *ngIf="workerInformationsForm.controls['town'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ 'account.townCode' | translate }}
                            </mat-label>
                            <input matInput type="text" formControlName="code">
                            <mat-error *ngIf="workerInformationsForm.controls['code'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="row">
                        <mat-form-field class="m-2 w-100">
                            <mat-label>
                                {{ "account.seperate-with" | translate }}
                            </mat-label>
                            <textarea matInput formControlName="certificates" type="text"></textarea>
                        </mat-form-field>
                    </div>
                </div>
            </form>
        </mat-dialog-content>
        <mat-dialog-actions align="end">
            <button mat-button mat-dialog-close>
                {{ "shared.cancel" | translate }}
            </button>
            <button matStepperPrevious mat-raised-button color="primary">
                {{ "shared.back" | translate }}
            </button>
            <button matStepperNext [disabled]="!workerInformationsForm.valid" mat-raised-button color="primary">
                {{ "shared.next" | translate }}
            </button>
        </mat-dialog-actions>
    </mat-step>
    <mat-step [stepControl]="workerHealthCardForm">
        <mat-dialog-content class="mat-typography mb-4">
            <form [formGroup]="workerHealthCardForm">
                <div class="col">
                    <div class="row">
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ "account.pacemaker" | translate }}
                            </mat-label>
                            <mat-select formControlName="pacemaker">
                                <mat-option value=""></mat-option>
                                <mat-option value="true">{{ "true" | translate }}</mat-option>
                                <mat-option value="false">{{ "false" | translate }}</mat-option>
                              </mat-select>
                            <mat-error *ngIf="workerHealthCardForm.controls['pacemaker'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ "account.hermophilia" | translate }}
                            </mat-label>
                            <mat-select formControlName="hermophilia">
                                <mat-option value=""></mat-option>
                                <mat-option value="true">{{ "true" | translate }}</mat-option>
                                <mat-option value="false">{{ "false" | translate }}</mat-option>
                              </mat-select>
                            <mat-error *ngIf="workerHealthCardForm.controls['hermophilia'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="row">
                        <mat-form-field class="m-2 form-date-field">
                            <mat-label>
                                {{ "account.psoriasis" | translate }}
                            </mat-label>
                            <mat-select formControlName="psoriasis">
                                <mat-option value=""></mat-option>
                                <mat-option value="true">{{ "true" | translate }}</mat-option>
                                <mat-option value="false">{{ "false" | translate }}</mat-option>
                              </mat-select>
                            <mat-error *ngIf="workerHealthCardForm.controls['psoriasis'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ "account.weakness" | translate }}
                            </mat-label>
                            <mat-select formControlName="weakness">
                                <mat-option value=""></mat-option>
                                <mat-option value="true">{{ "true" | translate }}</mat-option>
                                <mat-option value="false">{{ "false" | translate }}</mat-option>
                              </mat-select>
                            <mat-error *ngIf="workerHealthCardForm.controls['weakness'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="row">
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ "account.discoloration" | translate }}
                            </mat-label>
                            <mat-select formControlName="discoloration">
                                <mat-option value=""></mat-option>
                                <mat-option value="true">{{ "true" | translate }}</mat-option>
                                <mat-option value="false">{{ "false" | translate }}</mat-option>
                              </mat-select>
                            <mat-error *ngIf="workerHealthCardForm.controls['discoloration'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ "account.infectious-diseases" | translate }}
                            </mat-label>
                            <mat-select formControlName="infectiousDiseases">
                                <mat-option value=""></mat-option>
                                <mat-option value="true">{{ "true" | translate }}</mat-option>
                                <mat-option value="false">{{ "false" | translate }}</mat-option>
                              </mat-select>
                            <mat-error *ngIf="workerHealthCardForm.controls['infectiousDiseases'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="row">
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ "account.blood-circulation-disorders" | translate }}
                            </mat-label>
                            <mat-select formControlName="bloodCirculationDisorders">
                                <mat-option value=""></mat-option>
                                <mat-option value="true">{{ "true" | translate }}</mat-option>
                                <mat-option value="false">{{ "false" | translate }}</mat-option>
                              </mat-select>
                            <mat-error *ngIf="workerHealthCardForm.controls['bloodCirculationDisorders'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ "account.herpes" | translate }}
                            </mat-label>
                            <mat-select formControlName="herpes">
                                <mat-option value=""></mat-option>
                                <mat-option value="true">{{ "true" | translate }}</mat-option>
                                <mat-option value="false">{{ "false" | translate }}</mat-option>
                              </mat-select>
                            <mat-error *ngIf="workerHealthCardForm.controls['herpes'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="row">
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ "account.fever" | translate }}
                            </mat-label>
                            <mat-select formControlName="fever">
                                <mat-option value=""></mat-option>
                                <mat-option value="true">{{ "true" | translate }}</mat-option>
                                <mat-option value="false">{{ "false" | translate }}</mat-option>
                              </mat-select>
                            <mat-error *ngIf="workerHealthCardForm.controls['fever'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                        <mat-form-field class="m-2 form-field">
                            <mat-label>
                                {{ "account.pregnancy" | translate }}
                            </mat-label>
                            <mat-select formControlName="pregnancy">
                                <mat-option value=""></mat-option>
                                <mat-option value="true">{{ "true" | translate }}</mat-option>
                                <mat-option value="false">{{ "false" | translate }}</mat-option>
                              </mat-select>
                            <mat-error *ngIf="workerHealthCardForm.controls['pregnancy'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                    <div class="row">
                        <mat-form-field class="m-2 w-100">
                            <mat-label>
                                {{ "account.allergies" | translate }}
                            </mat-label>
                            <input matInput type="text" formControlName="allergies">
                            <mat-error *ngIf="workerHealthCardForm.controls['allergies'].hasError('required')">
                                <strong>{{ 'shared.required_field' | translate }}</strong>
                            </mat-error>
                        </mat-form-field>
                    </div>
                </div>
            </form>
        </mat-dialog-content>
        <mat-dialog-actions align="end">
            <button mat-button mat-dialog-close>
                {{ "shared.cancel" | translate }}
            </button>
            <button matStepperPrevious mat-raised-button color="primary">
                {{ "shared.back" | translate }}
            </button>
            <button [disabled]="!workerHealthCardForm.valid" (click)="submit()" mat-raised-button color="primary">
                {{ "shared.save" | translate }}
            </button>
        </mat-dialog-actions>
    </mat-step>
</mat-horizontal-stepper>